(this["webpackJsonpmindsumo-movies"]=this["webpackJsonpmindsumo-movies"]||[]).push([[0],{25:function(e,t,r){},46:function(e,t,r){"use strict";r.r(t);var n=r(3),a=r.n(n),s=r(16),i=r.n(s),c=(r(25),r(2)),o=r.n(c),l=r(4),u=r(17),d=r(18),x=r(20),h=r(19),m=r(7),p=r.n(m);function f(e,t){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(o.a.mark((function e(t,r){var n,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:1,e.abrupt("return",p.a.get("https://www.omdbapi.com/",{params:{type:"movie",apikey:t,s:r,page:n}}).then((function(e){return e.data})).catch((function(e){return console.error(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(o.a.mark((function e(t,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.a.get("https://www.omdbapi.com/",{params:{apikey:t,i:r,plot:"short"}}).then((function(e){return e.data})).catch((function(e){return console.error(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=r(5),y=r(0);function O(e){var t=e.result,r=e.expanded,n=e.moreInfo;return Object(y.jsx)("button",{onClick:e.onClick,className:"shadow-md transition duration-500 rounded-lg bg-opacity-25 hover:bg-opacity-100 max-w-4xl md:w-1/2 w-11/12 bg-gray-400 m-4 mt-0 ",children:Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsxs)("div",{className:"flex flew-row flex-auto",children:[Object(y.jsx)("img",{className:"w-20 flex-shrink-0 rounded-lg text-gray-500 italic text-center",src:t.Poster,alt:"no poster"}),Object(y.jsxs)("div",{className:"flex flex-col w-full m-2",children:[Object(y.jsxs)("div",{className:"flex flex-row",children:[Object(y.jsxs)("span",{className:"title text-xl text-gray-700 text-left font-semibold mr-2",children:[" ",t.Title," "]}),Object(y.jsxs)("span",{className:"year text-gray-600 text-right flex-grow",children:[" ",n&&r?n.Released:t.Year," "]})]}),r&&Object(y.jsx)("div",{className:"text-md",children:Object(y.jsxs)("div",{className:"flex flex-row flex-auto",children:[Object(y.jsxs)("span",{className:"text-left text-gray-700 font-semibold",children:[" ",n&&w(n.Director,"director")," "]}),Object(y.jsxs)("span",{className:"text-right flex-grow text-gray-600",children:[" ",n&&w(n.Runtime,"runtime")," "]})]})})]})]}),Object(y.jsxs)("div",{children:[r&&Object(y.jsxs)("div",{className:"text-lg m-2 mb-0 text-justify select-all",children:[" ",n&&w(n.Plot,"plot")," "]}),r&&Object(y.jsxs)("span",{className:"text-center text-gray-700 flex-grow",children:[" ",n&&w(n.Genre,"genre")," "]})]})]})})}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(y.jsxs)("span",{className:"N/A"===e?"italic":"",children:[" ","N/A"===e?t+" not found":e," "]})}var N=function(e){Object(x.a)(r,e);var t=Object(h.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this,e)).state={query:"",responseArray:[],index:1,totalResults:0,error:"",expandedMovie:void 0,moreInfo:void 0},n}return Object(d.a)(r,[{key:"render",value:function(){var e=this,t=""!==this.state.error?Object(y.jsx)("div",{className:"text-gray-200 text-2xl font-semibold bg-gray-700 text-center rounded-lg",children:Object(y.jsx)("div",{className:"m-4",children:this.state.error})}):null,r=this.state.responseArray.map((function(t){return Object(y.jsx)(O,{result:t,expanded:t.imdbID===e.state.expandedMovie,moreInfo:e.state.moreInfo,onClick:Object(l.a)(o.a.mark((function r(){var n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=e,r.t1=t.imdbID===e.state.expandedMovie?void 0:t.imdbID,t.imdbID!==(null===(n=e.state.moreInfo)||void 0===n?void 0:n.imdbID)){r.next=6;break}r.t2=e.state.moreInfo,r.next=9;break;case 6:return r.next=8,j(g.a,t.imdbID);case 8:r.t2=r.sent;case 9:r.t3=r.t2,r.t4={expandedMovie:r.t1,moreInfo:r.t3},r.t0.setState.call(r.t0,r.t4);case 12:case"end":return r.stop()}}),r)})))},t.imdbID)})),n=this.state.responseArray.length===this.state.totalResults?null:Object(y.jsx)("button",{className:"loadMoreButton transition duration-500 bg-opacity-60 hover:bg-opacity-100 bg-blue-400 rounded-lg mb-2 text-xl font-medium h-12 w-36 ",onClick:this.loadMore.bind(this),children:"Load More"});return Object(y.jsxs)("div",{className:"App min-h-screen bg-gradient-to-b from-blue-200 to-purple-200",children:[Object(y.jsx)("header",{className:"App-header flex flex-grow justify-center",children:Object(y.jsx)("div",{className:"w-96 m-4",children:Object(y.jsx)("form",{className:"query text-center",onSubmit:this.handleSubmit.bind(this),children:Object(y.jsx)("input",{className:"text-center text-2xl bg-blue-50 rounded-lg",onChange:this.handleChange.bind(this),placeholder:"search a movie"})})})}),Object(y.jsxs)("div",{className:"w-auto flex flex-col items-center",children:[t,r,n]})]})}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({query:t})}},{key:"handleSubmit",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f(g.a,this.state.query);case 3:"False"===(r=e.sent).Response?this.setState({query:"",responseArray:[],totalResults:0,error:r.Error}):this.setState({responseArray:r.Search,totalResults:parseInt(r.totalResults),error:""}),this.setState({expandedMovie:void 0,moreInfo:void 0,index:1});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadMore",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.state.index+1,e.next=3,f(g.a,this.state.query,r);case 3:n=e.sent,this.setState({responseArray:this.state.responseArray.concat(n.Search),index:r});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(a.a.Component),k=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,47)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(N,{})}),document.getElementById("root")),k()},5:function(e){e.exports=JSON.parse('{"a":"69f2899"}')}},[[46,1,2]]]);
//# sourceMappingURL=main.6a3c88fe.chunk.js.map